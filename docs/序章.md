jquery 是如何实现链式调用的  
链式调用主要点就是每次调用都有返回值，且每次都返回自身  
还有 jquery 是如何将 jquery 这个变量暴露在 window 对象下的

阅读了 艾伦大佬博客对 jquery 进行的学习  
首先 jquery 第一个妙的地方  

```js
var
	version = "3.6.0",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};
```

首先在入口的时候，定义了 jQuery 函数，这个函数就是我们后面所有地方都使用的 $  
然后 jq 调用 jquery 的时候就返回了 `new jQuery.fn.init()` 这个函数，每次都返回一个新的对象  
但是我们不可能只使用 init 里 this 定义的方法，大量的方法都被定义在了 jQuery 的原型上，这时 jq 做了一个处理

```js
jQuery.fn = jQuery.prototype = {
  // 省略代码
}

```
先将 jQuery.fn 指向 jQuery.prototype  
然后   
```js
init.prototype = jQuery.fn;
```
然后用 jQuery.fn 覆盖 init 的原型  
这个时候使用 new init() 创建的函数对象，既包括 jQuery 原型下的所有方法，也包括 init this 本身的所有方法  
不得不说 妙啊

